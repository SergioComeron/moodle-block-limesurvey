{"version":3,"sources":["/Users/sergiocomeron/moodles/stable_405/moodle/blocks/limesurvey/amd/src/surveys.js"],"names":["define","$","Ajax","Notification","Str","formatDate","dateString","date","Date","isNaN","getTime","toLocaleString","undefined","year","month","day","hour","minute","e","getDaysUntilExpiration","expiresDate","expires","now","diffTime","getFullYear","getMonth","getDate","diffDays","Math","round","init","console","log","this","loadSurveys","clearCache","call","methodname","args","done","response","fail","error","contentDiv","length","get_strings","key","component","then","loadedStrings","strings","nosurveys","activesurveys","viewresponses","hideresponses","responses","error_loading","surveyprogress","allcompleted","expiresin","expiresday","expirestoday","expired","startdate","expiresdate","surveylist","completedsurvey_aria","pendingsurvey_aria","progress_aria","completedstatus","pendingstatus","success","surveys","totalSurveys","completedCount","pendingCount","totalCompletionPercentage","forEach","survey","completed","completion_percentage","completionPercentage","sort","a","b","group","html","index","daysLeft","title","extraText","attributes","join","ariaLabelCompleted","replace","url","urgencyBadge","getUrgencyBadge","cardBgGradient","cardBorderColor","titleColor","extraTextColor","dateColor","ariaLabelPending","percentage","circumference","PI","offset","progressColor","progressAriaLabel","raw_api_response","decoded_data","groupEnd","responseid","Object","keys","expiresTodayBadges","setInterval","fadeOut","fadeIn","on","preventDefault","surveyId","data","responsesDiv","parseInt","split","button","is","slideUp","responsesHtml","hasOwnProperty","slideDown","clearResponse","message","exception","loadSurveysWithStrings","catch"],"mappings":"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"}